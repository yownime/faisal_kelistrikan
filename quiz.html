<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz - Sistem Kelistrikan Sepeda Motor</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="sub-hero">
      <div class="hero-content">
        <h1>
          Quiz Interaktif<span><br />UJI PEMAHAMAN MATERI</span>
        </h1>
      </div>
    </header>

    <main class="quiz-content">
      <div class="container">
        <div class="quiz-container">
          <div id="quiz-header">
            <div class="quiz-info">
              <span id="question-number">Pertanyaan 1 dari 10</span>
            </div>
            <div class="progress-bar">
              <div class="progress" id="progress"></div>
            </div>
          </div>

          <div id="question-container">
            <!-- Questions will be inserted here by JavaScript -->
          </div>

          <div id="results-container" style="display: none">
            <h2>Hasil Quiz</h2>
            <div id="score-display"></div>
            <div id="answers-review"></div>
          </div>

          <div class="quiz-controls">
            <button id="submit-btn" class="quiz-button">Jawab</button>
            <button id="next-btn" class="quiz-button" style="display: none">
              Pertanyaan Berikutnya
            </button>
            <button id="finish-btn" class="quiz-button" style="display: none">
              Selesai
            </button>
            <button id="retry-btn" class="quiz-button" style="display: none">
              Coba Lagi
            </button>
          </div>
        </div>

        <div class="navigation-buttons">
          <a href="index.html" class="nav-button back"
            ><i class="fas fa-arrow-left"></i> Kembali</a
          >
          <button
            id="complete-btn"
            onclick="markAsComplete()"
            class="nav-button next"
            style="display: none"
          >
            Lanjut ke Simulasi <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </main>

    <footer>
      <div class="container">
        <p>
          &copy; 2023 Simulator Sistem Kelistrikan Sepeda Motor. All rights
          reserved.
        </p>
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      const questions = [
        {
          question:
            "Yang berfungsi merubah arus listrik bolak-balik menjadi arus searah dari generator adalah?",
          options: [
            "Alternator",
            "Rectifier",
            "Voltage regulator",
            "Capasitor",
            "Sepul",
          ],
          correct: 1,
        },
        {
          question:
            "Bila suatu kawat penghantar dililitkan pada inti besi, lalu didekatnya digerak-gerakkan sebuah magnet,maka akan timbul?",
          options: [
            "Percikan listrik",
            "Panas",
            "Energy listrik",
            "Putaran",
            "Energy",
          ],
          correct: 2,
        },
        {
          question: "Bagian yang diam pada generator disebut?",
          options: ["Stator", "Rotor", "Dynamo", "Starter", "Relay"],
          correct: 0,
        },
        {
          question:
            "Pada gambar dibawah jika lampu indikator jauh tidak menyala kemungkinannya adalah....",
          image: "image/quiz/altenator.png",
          options: [
            "Bohlam lampu jauh putus",
            "Kiprok tidak bisa membatasi tegangan",
            "Konektor lampu jauh rusak",
            "Lampu indikator jauh tidak mendapatkan ground",
            "Saklar lampu dekat mengalami kerusakan",
          ],
          correct: 0,
        },
        {
          question: "Dibawah ini adalah komponen yang berfungsi untuk....",
          image: "image/quiz/ignition_system.png",
          options: [
            "Menghasilkan listrik dengan putaran yang dihasilkan mesin melalui gaya gerak listrik",
            "Memindahkan jalur penerangan dari jauh menuju ke dekat",
            "Mematikan dan menghidupkan lampu penerangan",
            "Membatasi tegangan penerangan",
            "Sebagai saklar otomatis jika terjadi korselting",
          ],
          correct: 0,
        },
        {
          question:
            "Dibawah adalah komponen sistem sinyal kendaraan yang berfungsi untuk....",
          image: "image/quiz/gambar3.png",
          options: [
            "Membantu kerja sein agar bisa nyala kedip",
            "Membatasi tegangan yang masuk",
            "Menyearahkan tegangan AC menjadi DC",
            "Meningkatkan kuat arus agar lampu menjadi terang",
            "Memutuskan lampu jika terjadi korsleting",
          ],
          correct: 0,
        },
        {
          question:
            "Perhatikan wiring dibawah. Signaling device pada gambar diatas adalah....",
          image: "image/quiz/gambar4.png",
          options: [
            "Penyearah arus",
            "Penghubung dan pemutus arus",
            "Pembangkit tegangan",
            "Penunjuk on off arus",
          ],
          correct: 0,
        },
        {
          question: "Dari no. 7 adalah gambaran dari sistem....",
          options: [
            "Penerangan AC",
            "Penerangan DC",
            "Pengapian AC",
            "Pengapian DC",
            "Tidak ada jawaban yang benar",
          ],
          correct: 1,
        },
        {
          question:
            "Pada sebuah wiring diagram terdapat kode R/W, maksud dari kode warna kabel tersebut adalah....",
          options: [
            "merah / putih",
            "biru / kuning",
            "hitam / putih",
            "merah / kuning",
          ],
          correct: 0,
        },
        {
          question:
            "Nama komponen sistem penerangan sepeda motor berikut adalah....",
          image: "image/quiz/gambar5.png",
          options: [
            "regulator/ kiprok",
            "kunci kontak",
            "generator",
            "baterai",
          ],
          correct: 2,
        },
        {
          question:
            "Pada gambar di bawah telah dilakukan perbaikan dengan memutar berlawanan arah jarum jam sesuai SOP dengan panduan manual book yaitu saat proses...",
          image: "image/quiz/gambar6.png",
          options: [
            "Proses melepas konektor bohlam lampu ",
            "Mengganti karet pelindung debu",
            "Mengganti konektor bohlam lampu",
            "Memeriksa dudukan bohlam lampu",
          ],
          correct: 0,
        },
        {
          question:
            "Apa nama alat yang berfungsi untuk mengukur tegangan listrik....",
          options: ["Ampere meter", "Volt meter", "Ohm meter", "Hidrometer"],
          correct: 1,
        },
        {
          question:
            "Warna kabel massa/negatif baterai pada kelistrikan body adalah ...",
          options: ["Merah", "Hitam", "Kuning", "Biru"],
          correct: 1,
        },
        {
          question:
            "Warna kabel positif baterai pada kelistrikan body sepeda motor biasanya adalah ...",
          options: ["Hitam", "Kuning", "Biru", "Merah"],
          correct: 3,
        },
        {
          question:
            "Komponen pada sistem kelistrikan yang berfungsi untuk pengaman rangkaian saat terjadi hubungan pendek adalah ...",
          options: ["Kabel", "Kunci Kontak", "Fuse", "Regulator"],
          correct: 2,
        },
        {
          question:
            "Fungsi Generator pada sistem penerangan sepeda motor adalah untuk....",
          options: [
            "Agar baterai tidak terjadi pengosongan",
            "Sebagai sumber tegangan AC untuk keperluan lampu kepala",
            "Agar lampu kepala dapat dinyalakan saat mesin mati",
            "Agar lampu menyala lebih terang dibandingkan dengan sumber tegangan baterai",
          ],
          correct: 1,
        },
        {
          question:
            "Sistem penerangan sistem DC pada sebuah sepeda motor aliran atau alur jalannya arus lampu kota atau lampu senja adalah ....",
          options: [
            "baterai --> kunci kontak --> sekering --> lampu senja depan dan lampu kota belakang --> negatif baterai",
            "baterai --> sekering --> kunci kontak --> lampu senja depan dan lampu kota belakang --> negatif baterai",
            "baterai --> kunci kontak --> sekering -->lampu senja depan dan lampu kota belakang --> massa",
            "baterai --> sekering --> kunci kontak --> lampu senja depan dan lampu kota belakang --> massa",
          ],
          correct: 3,
        },
        {
          question:
            "Fungsi Regulator/ Kiprok pada sistem penerangan adalah untuk....",
          options: [
            "Meregulasi tegangan sistem penerangan agar lampu tetap menyala dengan terang",
            "Penyearah dan penstabil tegangan keluaran dari kumparan pembangkit untuk sistem penerangan dan pemakai tegangan searah lainnya Penyearah dan penstabil tegangan keluaran dari kumparan pembangkit untuk sistem penerangan dan pemakai tegangan searah lainnya",
            "Meregulasi tegangan sistem penerangan pada saat putaran mesin tinggi",
            "Menyearahkan sinar lampu kepala supaya lebih terang dan bola lampu tidak mudah putus",
          ],
          correct: 1,
        },
      ];

      let currentQuestion = 0;
      let answers = new Array(questions.length).fill(-1);

      function displayQuestion() {
        const question = questions[currentQuestion];
        const container = document.getElementById("question-container");
        const html = `
                <div class="question">
                    <h2>${question.question}</h2>
                    ${
                      question.image
                        ? `<div class="question-image"><img src="${question.image}" alt="Quiz Image"></div>`
                        : ""
                    }
                    <div class="options">
                        ${question.options
                          .map(
                            (option, index) => `
                            <label class="option">
                                <input type="radio" name="answer" value="${index}" ${
                              answers[currentQuestion] === index
                                ? "checked"
                                : ""
                            }>
                                <span class="option-text">${option}</span>
                            </label>
                        `
                          )
                          .join("")}
                    </div>
                </div>
            `;
        container.innerHTML = html;
        updateProgress();
      }

      function updateProgress() {
        document.getElementById("question-number").textContent = `Pertanyaan ${
          currentQuestion + 1
        } dari 18`;
        const progress = ((currentQuestion + 1) / questions.length) * 100;
        document.getElementById("progress").style.width = `${progress}%`;
      }

      function saveAnswer() {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) {
          alert("Silakan pilih jawaban terlebih dahulu!");
          return false;
        }
        answers[currentQuestion] = parseInt(selected.value);
        return true;
      }

      function nextQuestion() {
        if (!saveAnswer()) return;

        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          displayQuestion();
        } else {
          showResults();
        }
      }

      function showResults() {
        const container = document.getElementById("question-container");
        const resultsContainer = document.getElementById("results-container");
        const scoreDisplay = document.getElementById("score-display");
        const answersReview = document.getElementById("answers-review");

        container.style.display = "none";
        resultsContainer.style.display = "block";

        // Calculate score
        const correctAnswers = answers.filter(
          (answer, index) => answer === questions[index].correct
        ).length;
        const score = (correctAnswers / questions.length) * 100;

        // Display score and review
        scoreDisplay.innerHTML = `
                <div class="final-score">
                    <h3>Skor Anda: ${score}%</h3>
                    <p>Jawaban Benar: ${correctAnswers} dari ${questions.length}</p>
                </div>
            `;

        // Show review of all questions
        const reviewHtml = questions
          .map(
            (question, index) => `
                <div class="review-item ${
                  answers[index] === question.correct ? "correct" : "wrong"
                }">
                    <p><strong>Pertanyaan ${index + 1}:</strong> ${
              question.question
            }</p>
                    <p>Jawaban Anda: ${question.options[answers[index]]}</p>
                    <p>Jawaban Benar: ${question.options[question.correct]}</p>
                </div>
            `
          )
          .join("");

        answersReview.innerHTML = reviewHtml;

        // Show appropriate buttons
        document.getElementById("submit-btn").style.display = "none";
        document.getElementById("next-btn").style.display = "none";
        document.getElementById("finish-btn").style.display = "none";

        if (score === 100) {
          document.getElementById("complete-btn").style.display = "block";
        } else {
          document.getElementById("retry-btn").style.display = "block";
        }
      }

      function retryQuiz() {
        currentQuestion = 0;
        answers = new Array(questions.length).fill(-1);
        document.getElementById("question-container").style.display = "block";
        document.getElementById("results-container").style.display = "none";
        document.getElementById("submit-btn").style.display = "block";
        document.getElementById("retry-btn").style.display = "none";
        document.getElementById("complete-btn").style.display = "none";
        displayQuestion();
      }

      function markAsComplete() {
        window.location.href = "sein.html";
      }

      // Event Listeners
      document
        .getElementById("submit-btn")
        .addEventListener("click", function () {
          if (saveAnswer()) {
            if (currentQuestion < questions.length - 1) {
              currentQuestion++;
              displayQuestion();
            } else {
              showResults();
            }
          }
        });
      document.getElementById("retry-btn").addEventListener("click", retryQuiz);

      // Initialize quiz
      displayQuestion();
    </script>
  </body>
</html>
